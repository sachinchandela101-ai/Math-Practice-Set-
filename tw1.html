<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MP Police Constable Mock Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #1a73e8;
            --light-blue: #e8f0fe;
            --dark-gray: #333;
            --light-gray: #f0f4f8;
            --green: #4caf50;
            --red: #f44336;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--light-gray);
            color: var(--dark-gray);
            margin: 0;
            padding: 0;
        }
        .app-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background-color: var(--primary-blue);
            color: white;
            font-weight: 500;
        }
        .header-left, .header-right {
            display: flex;
            align-items: center;
        }
        .header-left span {
            font-size: 24px;
            margin-right: 15px;
            cursor: pointer;
        }
        .header-title {
            font-size: 18px;
        }
        .header-right span {
            font-size: 24px;
            margin-left: 15px;
            cursor: pointer;
        }
        .question-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            overflow-x: auto;
        }
        .q-status {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #ccc;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 5px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
            flex-shrink: 0;
        }
        .q-status.attempted {
            background-color: var(--primary-blue);
        }
        .q-status.correct {
            background-color: var(--green);
        }
        .q-status.incorrect {
            background-color: var(--red);
        }
        .main-content {
            padding: 20px;
            flex-grow: 1;
        }
        .question-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 20px;
            color: #666;
        }
        .question-meta .q-number {
            font-size: 18px;
            font-weight: 500;
        }
        .timer-score {
            display: flex;
            gap: 15px;
            font-weight: 500;
        }
        .timer-score span {
            background-color: #f0f0f0;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .score-correct { color: var(--green); }
        .score-incorrect { color: var(--red); }
        .question-text {
            font-size: 18px;
            line-height: 1.5;
            margin-bottom: 20px;
        }
        .options-list li {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid #eee;
        }
        .options-list li:hover {
            background-color: var(--light-blue);
        }
        .options-list li.selected {
            background-color: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }
        .options-list li.correct-answer {
            background-color: var(--green);
            color: white;
            border-color: var(--green);
        }
        .options-list li.incorrect-answer {
            background-color: var(--red);
            color: white;
            border-color: var(--red);
        }
        .action-buttons {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            border-top: 1px solid #ddd;
            background-color: #fff;
        }
        .action-buttons button {
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        #view-solution-btn {
            background-color: var(--primary-blue);
            color: white;
        }
        #mark-next-btn, #clear-btn {
            background-color: #e0e0e0;
            color: var(--dark-gray);
        }
        #save-next-btn {
            background-color: var(--green);
            color: white;
        }
        .solution-box {
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
        .solution-box.visible {
            display: block;
        }
        .solution-box h4 {
            color: var(--green);
            margin-top: 0;
        }
        .solution-box p {
            margin: 0;
            color: #388e3c;
        }
        .summary-box {
            background-color: var(--light-blue);
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }
        .summary-box h2 {
            margin-top: 0;
            color: var(--primary-blue);
        }
        .summary-box .stats p {
            margin: 5px 0;
            font-size: 16px;
        }
        .summary-box .stats .score-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-blue);
        }
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="header">
            <div class="header-left">
                <span>&#x2190;</span>
                <span class="header-title">MP Police Constable Full Test...</span>
            </div>
            <div class="header-right">
                <span>&#x2630;</span>
                <span>&#x25B2;</span>
            </div>
        </div>

        <div id="question-nav" class="question-nav">
            </div>

        <div class="main-content">
            <div class="question-meta">
                <div class="q-number">प्रश्न <span id="current-q-num">1</span></div>
                <div class="timer-score">
                    <span id="timer-display">00:00</span>
                    <span class="score-correct">+<span id="score-correct">1.0</span></span>
                    <span class="score-incorrect">-<span id="score-incorrect">0.0</span></span>
                </div>
            </div>

            <div id="question-area">
                </div>

            <div class="solution-box hidden" id="solution-box">
                <h4>समाधान:</h4>
                <p id="solution-text"></p>
            </div>
        </div>
        
        <div class="action-buttons">
            <button id="view-solution-btn">View Solution</button>
            <button id="clear-btn">Clear</button>
            <button id="save-next-btn">Save & Next</button>
        </div>

        <div id="summary-area" class="hidden">
            <div class="summary-box">
                <h2>आपका परिणाम</h2>
                <div class="stats">
                    <p>स्कोर: <span class="score-text"><span id="final-score">0</span>/100</span></p>
                    <p>सही उत्तर: <span id="final-correct">0</span></p>
                    <p>गलत उत्तर: <span id="final-incorrect">0</span></p>
                    <p>छोड़े गए प्रश्न: <span id="final-skipped">0</span></p>
                </div>
            </div>
        </div>

    </div>

    <script>
        const questionsData = [
            {
                id: 1,
                text: 'Which city will hold the 23rd edition of India International Seafood Show (IISS) in 2023?',
                options: ['Mumbai', 'Chennai', 'Kolkata', 'Jaipur'],
                correct: 'Kolkata',
                solution: 'Kolkata will hold the 23rd edition of India International Seafood Show (IISS) from February 15-17, 2023. It will be organised by the Marine Products Export Development Authority (MPEDA), in association with the Seafood Exporters Association of India (SEAI).'
            },
            {
                id: 2,
                text: 'पगारा बाँध कहाँ स्थित है?',
                options: ['मध्य प्रदेश', 'उत्तर प्रदेश', 'राजस्थान', 'गुजरात'],
                correct: 'मध्य प्रदेश',
                solution: 'पगारा बाँध मध्य प्रदेश के मुरैना जिले में स्थित है। यह आसन नदी पर बनाया गया है।'
            },
            {
                id: 3,
                text: 'नाथ पंथ के प्रवर्तक कौन थे?',
                options: ['गुरु गोरखनाथ', 'मत्स्येन्द्रनाथ', 'जालंधरनाथ', 'आदिनाथ'],
                correct: 'मत्स्येन्द्रनाथ',
                solution: 'नाथ संप्रदाय एक शैव संप्रदाय है, जिसके प्रवर्तक मत्स्येन्द्रनाथ थे।'
            },
            {
                id: 4,
                text: 'रिहंद नदी घाटी परियोजना कहाँ है?',
                options: ['मध्य प्रदेश', 'उत्तर प्रदेश', 'बिहार', 'ओडिशा'],
                correct: 'उत्तर प्रदेश',
                solution: 'रिहंद नदी घाटी परियोजना, जिसे गोविंद वल्लभ पंत सागर परियोजना के नाम से भी जाना जाता है, उत्तर प्रदेश में स्थित है। यह भारत की सबसे बड़ी बहुउद्देशीय परियोजनाओं में से एक है।'
            },
            {
                id: 5,
                text: 'विश्व वन्यजीव दिवस कब मनाया जाता है?',
                options: ['3 मार्च', '5 जून', '21 मार्च', '10 अगस्त'],
                correct: '3 मार्च',
                solution: 'विश्व वन्यजीव दिवस हर साल 3 मार्च को मनाया जाता है ताकि विश्व के वन्य जीवों और वनस्पतियों के बारे में जागरूकता बढ़ाई जा सके।'
            },
            {
                id: 6,
                text: 'बाल-विवाह प्रतिषेध अधिनियम (Child Marriage Restraint Act) किस वर्ष लागू हुआ?',
                options: ['1929', '1955', '1976', '2006'],
                correct: '1929',
                solution: 'बाल-विवाह प्रतिषेध अधिनियम, जिसे शारदा अधिनियम के नाम से भी जाना जाता है, 1929 में पारित किया गया था। यह कानून 1 अप्रैल 1930 को लागू हुआ था।'
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = {};
        const totalQuestions = questionsData.length;

        const questionNav = document.getElementById('question-nav');
        const currentQNumSpan = document.getElementById('current-q-num');
        const questionArea = document.getElementById('question-area');
        const solutionBox = document.getElementById('solution-box');
        const solutionText = document.getElementById('solution-text');
        const saveNextBtn = document.getElementById('save-next-btn');
        const clearBtn = document.getElementById('clear-btn');
        const viewSolutionBtn = document.getElementById('view-solution-btn');
        const summaryArea = document.getElementById('summary-area');
        const mainContent = document.querySelector('.main-content');
        const actionButtons = document.querySelector('.action-buttons');
        const timerDisplay = document.getElementById('timer-display');
        const scoreCorrectSpan = document.getElementById('score-correct');
        const scoreIncorrectSpan = document.getElementById('score-incorrect');

        let correctCount = 0;
        let incorrectCount = 0;
        let skippedCount = 0;
        let timeElapsed = 0;
        let timerInterval;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeElapsed++;
                const minutes = Math.floor(timeElapsed / 60);
                const seconds = timeElapsed % 60;
                timerDisplay.textContent = `${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            }, 1000);
        }

        function renderQuestionNav() {
            questionNav.innerHTML = '';
            for (let i = 0; i < totalQuestions; i++) {
                const qStatus = document.createElement('div');
                qStatus.classList.add('q-status');
                qStatus.textContent = i + 1;
                qStatus.dataset.index = i;
                
                if (userAnswers[i]) {
                    qStatus.classList.add('attempted');
                }
                
                qStatus.addEventListener('click', () => {
                    currentQuestionIndex = i;
                    renderQuestion();
                });
                questionNav.appendChild(qStatus);
            }
        }

        function renderQuestion() {
            const question = questionsData[currentQuestionIndex];
            currentQNumSpan.textContent = question.id;
            questionArea.innerHTML = `
                <div class="question-text">${question.text}</div>
                <ul class="options-list">
                    ${question.options.map((opt, i) => `<li>${i + 1}. ${opt}</li>`).join('')}
                </ul>
            `;
            solutionBox.classList.add('hidden');

            const optionsList = questionArea.querySelectorAll('li');
            optionsList.forEach((option, i) => {
                option.addEventListener('click', () => {
                    optionsList.forEach(li => li.classList.remove('selected'));
                    option.classList.add('selected');
                    userAnswers[currentQuestionIndex] = option.textContent.substring(3); // Store selected option text
                    renderQuestionNav(); // Update nav status
                });

                // Set selected state on load
                if (userAnswers[currentQuestionIndex] === option.textContent.substring(3)) {
                    option.classList.add('selected');
                }
            });
        }
        
        function showSolution() {
            const question = questionsData[currentQuestionIndex];
            solutionText.innerHTML = question.solution;
            solutionBox.classList.remove('hidden');

            const optionsList = questionArea.querySelectorAll('li');
            optionsList.forEach(option => {
                if (option.textContent.substring(3) === question.correct) {
                    option.classList.add('correct-answer');
                }
                if (option.classList.contains('selected') && option.textContent.substring(3) !== question.correct) {
                    option.classList.add('incorrect-answer');
                }
            });
            // Disable all options after showing solution
            optionsList.forEach(option => option.style.pointerEvents = 'none');
        }

        function nextQuestion() {
            if (currentQuestionIndex < totalQuestions - 1) {
                currentQuestionIndex++;
                renderQuestion();
            } else {
                // Last question, change Save & Next to Submit
                saveNextBtn.textContent = 'Submit Test';
            }
        }

        function clearSelection() {
            delete userAnswers[currentQuestionIndex];
            renderQuestion();
            renderQuestionNav();
        }

        function calculateScore() {
            correctCount = 0;
            incorrectCount = 0;
            skippedCount = 0;

            questionsData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                if (userAnswer) {
                    if (userAnswer === question.correct) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                } else {
                    skippedCount++;
                }
            });

            // Update header score
            scoreCorrectSpan.textContent = (correctCount * 1).toFixed(1);
            scoreIncorrectSpan.textContent = (incorrectCount * 0.25).toFixed(1);
        }

        function showSummary() {
            clearInterval(timerInterval);
            mainContent.classList.add('hidden');
            actionButtons.classList.add('hidden');
            questionNav.classList.add('hidden');
            document.querySelector('.question-meta').classList.add('hidden');
            
            // Calculate final scores
            const finalScore = (correctCount * 1) - (incorrectCount * 0.25);
            
            document.getElementById('final-score').textContent = finalScore.toFixed(2);
            document.getElementById('final-correct').textContent = correctCount;
            document.getElementById('final-incorrect').textContent = incorrectCount;
            document.getElementById('final-skipped').textContent = skippedCount;

            summaryArea.classList.remove('hidden');
        }

        // Event Listeners
        saveNextBtn.addEventListener('click', () => {
            if (saveNextBtn.textContent === 'Submit Test') {
                showSummary();
            } else {
                nextQuestion();
                calculateScore();
            }
        });
        clearBtn.addEventListener('click', clearSelection);
        viewSolutionBtn.addEventListener('click', showSolution);

        // Initial render
        renderQuestionNav();
        renderQuestion();
        startTimer();
    </script>

</body>
</html>
